# RUN: lld-core %s | FileCheck %s

#
# Test that weak definitions are coalesced away in favor of a regular definition
#

---
atoms:
    - name:         _foo
      definition:   regular
      merge:        asWeak
      scope:        global
      type:         data
---
atoms:
    - name:         _foo
      definition:   regular
      scope:        global
      type:         data
---
atoms:
    - name:         _foo
      definition:   regular
      merge:        asWeak
      scope:        global
      type:         data
...


# CHECK:       name: _foo
# CHECK-NOT:   merge: asWeak
# CHECK-NOT:   name: _foo
# CHECK:       ...
