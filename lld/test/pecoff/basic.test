# RUN: lld -flavor link -out %t1 -- %p/Inputs/nop.obj \
# RUN:   && llvm-readobj -file-headers %t1 | FileCheck -check-prefix=FILE %s

FILE: Format: COFF-i386
FILE: Arch: i386
FILE: AddressSize: 32bit
FILE: ImageFileHeader {
FILE:   Machine: IMAGE_FILE_MACHINE_I386 (0x14C)
FILE:   SectionCount: 1
FILE:   TimeDateStamp:
FILE:   PointerToSymbolTable: 0x0
FILE:   SymbolCount: 0
FILE:   OptionalHeaderSize: 224
FILE:   Characteristics [ (0x102)
FILE:     IMAGE_FILE_32BIT_MACHINE (0x100)
FILE:     IMAGE_FILE_EXECUTABLE_IMAGE (0x2)
FILE:   ]
FILE: }

# RUN: lld -flavor link -out %t1 -- %p/Inputs/nop.obj \
# RUN:   && llvm-readobj -sections %t1 | FileCheck -check-prefix=SECTIONS %s
SECTIONS: Format: COFF-i386
SECTIONS: Arch: i386
SECTIONS: AddressSize: 32bit
SECTIONS: Sections [
SECTIONS:   Section {
SECTIONS:     Number: 1
SECTIONS:     Name: .text (2E 74 65 78 74 00 00 00)
SECTIONS:     VirtualSize: 0x6
SECTIONS:     VirtualAddress: 0x1000
SECTIONS:     RawDataSize: 6
SECTIONS:     PointerToRawData: 0x200
SECTIONS:     PointerToRelocations: 0x0
SECTIONS:     PointerToLineNumbers: 0x0
SECTIONS:     RelocationCount: 0
SECTIONS:     LineNumberCount: 0
SECTIONS:     Characteristics [ (0x60000020)
SECTIONS:       IMAGE_SCN_CNT_CODE (0x20)
SECTIONS:       IMAGE_SCN_MEM_EXECUTE (0x20000000)
SECTIONS:       IMAGE_SCN_MEM_READ (0x40000000)
SECTIONS:     ]
SECTIONS:   }
SECTIONS: ]
