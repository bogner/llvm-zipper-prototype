RUN: lld-core -reader ELF -writer ELF -o %t1 %p/Inputs/section-test.i386 | llvm-objdump -section-headers %t1 |  FileCheck -check-prefix=OBJDUMP %s 
RUN: llvm-readobj  %t1 |  FileCheck -check-prefix=READOBJ %s 
RUN: elf-dump  --dump-section %t1 |  FileCheck -check-prefix=ED %s 

OBJDUMP:  0 000000000 00000000000000000
OBJDUMP:  2 .anotherspecial 000000004 000000000000001c8 DATA
OBJDUMP:  3 .special      000000004 000000000000001cc DATA
OBJDUMP:  4 .text         00000000a 000000000000001d0 TEXT DATA
OBJDUMP:  5 .data         000000004 000000000000001dc DATA
OBJDUMP:  7 .symtab       000000150 000000000000001e0
OBJDUMP:  8 .strtab       00000003b 00000000000000330
OBJDUMP:  9 .shstrtab     00000004b 0000000000000036b

READOBJ: File Format : ELF32-i386
READOBJ: Arch        : i386
READOBJ: Address Size: 32 bits
READOBJ: Symbols
READOBJ: .anotherspecial                   DBG                1c8                 0               1c8  formatspecific
READOBJ: .symtab                           DBG                1e0                 0               1e0  formatspecific
READOBJ: baz                               FUNC               0                 a               1d0  global
READOBJ:  z                                 DATA               0                 4               1c8  global
READOBJ: Total: 20

ED: 'e_indent[EI_DATA]', 0x01
ED: 'e_machine', 0x0003
ED: Section 1
ED: 'sh_addralign', 0x00000002
ED: Section 2
ED: 'sh_addralign', 0x00000008
ED: Section 7
ED: 'sh_link', 0x00000008
ED: 'sh_addralign', 0x00000004
ED: 'sh_entsize', 0x00000010
