# Tests the functionality of archive libraries reading 
# and resolution 
# Note: The binary files would not be required once we have support to generate
# binary archives from textual(yaml) input
#
# Tests generated using the source files below
# main file
#
#extern int __bss_start  __attribute__ ((weak));
#int a;
#int main() 
#{ 
#  return 0;
#}
#

RUN: lld-core -reader ELF %p/Inputs/writersyms.o -writer ELF -o %t1 
RUN: llvm-nm -n %t1 | FileCheck -check-prefix CHECKSYMS %s

CHECKSYMS:  00000000 a 1.c
CHECKSYMS:  00000094 T main
CHECKSYMS:  00002000 A __bss_start
CHECKSYMS:  00002000 B a
CHECKSYMS:  00002004 A __bss_end
CHECKSYMS:  00002004 A _end
CHECKSYMS:  00002004 A end
CHECKSYMS:           w _start
