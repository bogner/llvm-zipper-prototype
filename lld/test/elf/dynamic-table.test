RUN: lld -core -target x86_64-linux %p/Inputs/use-shared.x86-64 \
RUN:   %p/Inputs/shared.so-x86-64 -output=%t -entry=main \
RUN:   -output-type=dynamic
RUN: llvm-readobj %t | FileCheck %s

CHECK: Dynamic section contains 7 entries
CHECK:   Tag                Type                 Name/Value
CHECK:  0x0000000000000004 (HASH)
CHECK:  0x0000000000000005 (STRTAB)
CHECK:  0x0000000000000006 (SYMTAB)
CHECK:  0x000000000000000a (STRSZ)
CHECK:  0x000000000000000b (SYMENT) 24
CHECK:  0x0000000000000001 (NEEDED) Shared library: [shared.so-x86-64]
CHECK:  0x0000000000000000 (NULL)               0x0
CHECK:   Total: 7
