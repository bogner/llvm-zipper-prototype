RUN: %cpp_compiler %S/CustomCrossOverTest.cpp -o %t-CustomCrossOverTest

RUN: rm -rf %t/CustomCrossover
RUN: mkdir -p %t/CustomCrossover
RUN: echo -n A > %t/CustomCrossover/digits
RUN: echo -n B > %t/CustomCrossover/chars
RUN: not %t-CustomCrossOverTest -seed=1 -runs=100000  %t/CustomCrossover               2>&1 | FileCheck %s --check-prefix=CHECK_CO
Disable cross_over, verify that we can't find the target w/o it.
RUN:     %t-CustomCrossOverTest -seed=1 -runs=1000000 %t/CustomCrossover -cross_over=0 2>&1 | FileCheck %s --check-prefix=CHECK_NO_CO
RUN: rm -rf %t/CustomCrossover

CHECK_CO: In LLVMFuzzerCustomCrossover
CHECK_CO: BINGO

CHECK_NO_CO-NO: LLVMFuzzerCustomCrossover
CHECK_NO_CO: DONE

