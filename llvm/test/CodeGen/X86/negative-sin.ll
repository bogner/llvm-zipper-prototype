; NOTE: Assertions have been autogenerated by utils/update_test_checks.py
; RUN: llc < %s -mtriple=x86_64-unknown-unknown | FileCheck %s

declare double @sin(double %f)

define double @foo(double %e) nounwind #0 {
; CHECK-LABEL: foo:
; CHECK:       # BB#0:
; CHECK-NEXT:    jmp sin
;
  %f = fsub double 0.0, %e
  %g = call double @sin(double %f) readonly
  %h = fsub double 0.0, %g
  ret double %h
}

; FIXME: Check the instruction/node-level FMF instead of a function-level attribute.
attributes #0 = { "unsafe-fp-math"="true" }

